webpackJsonp([1],{0:function(t,s){},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("7+uW"),e={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"st-container"},[s("keep-alive",{attrs:{include:["stList"]}},[s("router-view")],1)],1)},staticRenderFns:[]};var n=i("VU/8")({name:"SpTel"},e,!1,function(t){i("q6Sr"),i("bqnf")},"data-v-4925521c",null).exports,r=i("/ocq"),l=i("bOdI"),c=i.n(l),o=i("mvHQ"),u=i.n(o),f="",p="/h5/recommend-tool/restaurants",d="/h5/recommend-tool/travels",v=i("POcy"),h=i.n(v);a.a.use(h.a);var _={name:"stList",data:function(){return{curcate:0,categoryList:[],articleList:[],curpage:1,listPage:1,listLen:20,listparams:{}}},mounted:function(){this.listparams={page:this.listPage}},methods:{initData:function(t,s,i){var a=this,e=this.$route.params.type;this.listparams.page=this.listPage,"restaurants"===e&&this.$http.get(f+p,{params:t}).then(function(t){if(0===t.body.code){var e=t.body.data;e.restaurant_attribute&&(a.categoryList=e.restaurant_attribute),s?(a.articleList=e.list,i&&i()):a.articleList=a.articleList.concat(e.list),window.localStorage.setItem("restaurants",u()(a.articleList)),a.listLen=e.list.length,a.listPage++,e.list.length<20?a.$refs.scroller.finishInfinite(!0):a.$refs.scroller.finishInfinite(!1)}},function(t){}),"travels"===e&&this.$http.get(f+d,{params:t}).then(function(t){if(a.categoryList&&0===res.body.code){var e=res.body.data;e.travel_attribute&&(a.categoryList=e.travel_attribute),s?(a.articleList=e.list,i&&i()):a.articleList=a.articleList.concat(e.list),window.localStorage.setItem("travels",u()(a.articleList)),a.listLen=e.list.length,a.listPage++,e.list.length<20?a.$refs.scroller.finishInfinite(!0):a.$refs.scroller.finishInfinite(!1)}},function(t){})},refresh:function(t){this.listPage=1,this.initData(this.listparams,!0,t)},infinite:function(){this.initData(this.listparams)},changecate:function(t,s,i){this.listPage=1,this.listparams=c()({page:this.listPage},s,i),this.curcate=t,this.$refs.scroller.triggerPullToRefresh()},todetail:function(t){this.$router.push({path:"/detail/"+this.$route.params.type+"/"+t})}}},m={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"st-list-container"},[i("header",{staticClass:"st-top-container"},[i("nav",{staticClass:"st-top-category"},t._l(t.categoryList,function(s,a){return i("span",{key:a,staticClass:"st-item",class:{cur:t.curcate===a},on:{click:function(i){t.changecate(a,s.type,s.value)}}},[t._v(t._s(s.label))])}))]),t._v(" "),i("section",{staticClass:"st-list-container"},[i("scroller",{ref:"scroller",attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite}},t._l(t.articleList,function(s,a){return i("div",{key:a,staticClass:"st-list-item",on:{click:function(i){t.todetail(s.id)}}},[i("div",{staticClass:"st-list-info"},[i("h1",[i("i",{staticClass:"st-icon"}),t._v(t._s(s.name)+t._s(s.id))]),t._v(" "),i("p",[t._v("适合："),i("span",[t._v(t._s(s.fit))])]),t._v(" "),i("p",[t._v("人均消费："),i("span",[t._v(t._s(s.per_consumption))])]),t._v(" "),i("p",[t._v("介绍："),i("span",[t._v(t._s(s.summary))])])]),t._v(" "),i("div",{staticClass:"st-list-address"},[i("i",{staticClass:"st-icon"}),i("span",[t._v(t._s(s.address))])])])}))],1)])},staticRenderFns:[]};var g=i("VU/8")(_,m,!1,function(t){i("nC3I")},"data-v-a4e3374c",null).exports,y={name:"stDetail",data:function(){return{detailInfo:{}}},mounted:function(){this.initDetailData()},methods:{initDetailData:function(){var t=this,s=this.$route.params,i={};"restaurants"===s.type&&(i=JSON.parse(window.localStorage.getItem("restaurants"))),"travels"===s.type&&(i=JSON.parse(window.localStorage.getItem("travels"))),i.forEach(function(i){i.id===s.id&&(t.detailInfo=i)})}}},L={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"st-detail-container"},[i("div",{staticClass:"st-detail-info"},[i("h1",[i("i",{staticClass:"st-icon"}),t._v(t._s(t.detailInfo.name))]),t._v(" "),i("p",[i("i",{staticClass:"st-icon"}),i("span",[t._v("适合：")]),i("span",[t._v(t._s(t.detailInfo.fit))])]),t._v(" "),i("p",[i("i",{staticClass:"st-icon"}),i("span",[t._v("人均消费：")]),i("span",[t._v(t._s(t.detailInfo.per_consumption))])]),t._v(" "),i("p",[i("i",{staticClass:"st-icon"}),i("span",[t._v("地址：")]),i("span",[t._v(t._s(t.detailInfo.address))])]),t._v(" "),i("p",[i("i",{staticClass:"st-icon"}),i("span",[t._v("介绍：")]),i("span",[t._v(t._s(t.detailInfo.summary))])])]),t._v(" "),i("div",{staticClass:"st-article-detail",domProps:{innerHTML:t._s(t.detailInfo.content)}})])},staticRenderFns:[]};var C=i("VU/8")(y,L,!1,function(t){i("ei00"),i("xz7b")},"data-v-24a2d792",null).exports;a.a.use(r.a);var I=new r.a({routes:[{path:"/list/:type",name:"stList",component:g},{path:"/detail/:type/:id",name:"stDetail",component:C}]}),b=i("8+8L");a.a.config.productionTip=!1,a.a.use(b.a),a.a.use(h.a),new a.a({el:"#SpTel",router:I,components:{SpTel:n},template:"<SpTel/>"})},bqnf:function(t,s){},ei00:function(t,s){},nC3I:function(t,s){},q6Sr:function(t,s){},xz7b:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.2a5878a4a580199b92ae.js.map